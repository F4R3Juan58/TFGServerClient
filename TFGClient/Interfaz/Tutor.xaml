<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TFGClient.Interfaz.Tutor"
             Title="Tutor">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- 1. Picker con alumnos -->
            <Frame>
                <VerticalStackLayout>
                    <Label Text="Selecciona un alumno:" FontAttributes="Bold" />
                    <Picker/>


                <HorizontalStackLayout>
                    <Button
                    Text="Crear canal temporal (texto + voz)"
                    Clicked="crearCanalTemporal" />
                </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>
            <!-- 2. Crear canal temporal -->
            

            <!-- 3. Administrar rol de delegado -->
            <Frame>
                <VerticalStackLayout>
                    <Label Text="Administrar rol de delegado:" FontAttributes="Bold" />
                    <HorizontalStackLayout Spacing="10">
                        <Button
                    Text="Asignar delegado"
                    Clicked="asignarDelegado" />
                        <Button
                    Text="Revocar delegado"
                    Clicked="revocarDelegado"/>
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Frame>


            <!-- 4. Abrir votaciones -->
            <Frame>
                <VerticalStackLayout>
                    <Label Text="Crear votaciones:" FontAttributes="Bold" />
                    <Button
                        Text="Crear nueva votación"
                        Clicked="crearVotacion" />
                </VerticalStackLayout>
            </Frame>
            

            <!-- 5. Crear Canal de FCT -->
            <Frame>
                <Button
    Text="Crear Canal de FCT"  />
            </Frame>

            <!-- 6. Checkboxes para rol FCT “curso” -->
            <Label Text="Asignar rol FCT por alumno:" FontAttributes="Bold" />
            <CollectionView
                ItemsSource="{Binding Students}"
                SelectionMode="None"
                HeightRequest="200">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="Auto,*,Auto" Padding="5">
                            <Label
                                Text="{Binding Name}"
                                VerticalOptions="Center"
                                Grid.Column="1" />
                            <CheckBox
                                IsChecked="{Binding IsFCT}"
                                VerticalOptions="Center"
                                Grid.Column="2" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            <Button
                Text="Guardar roles FCT"
                Command="{Binding SaveFCTRolesCommand}" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>